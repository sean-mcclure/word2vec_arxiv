<!DOCTYPE html>
<html>

<head>
<script src='https://azlejs.com/v2/azle.min.js'></script>
</head>

<body>
</body>
</html>

<script>

create_azle(function() {

az.load_scripts([
    'scripts/main.js',
    'scripts/dropdowns.js',
    'scripts/events.js'
    ])

    az.call_once_satisfied({

        "condition" : "typeof(add_dropdowns) == 'function'",
        "function" : function() {

az.load_font('Asap')

az.style_body({
    "background" : "#141414",
    "font-family" : "Asap"
})

az.add_sections({
    "this_class" : "main_section",
    "sections" : 1
})

az.style_sections('main_section', 1, {
    "background" : "darkslategrey",
    "height" : "auto",
    "width" : "500px"
})

az.add_layout('main_section', 1, {
    "this_class" : "hold_elements",
    "row_class" : "hold_elements_rows",
    "cell_class" : "hold_elements_cells",
    "number_of_rows" : 10,
    "number_of_columns" : 1
})

az.style_layout('hold_elements', 1, {
    "border" : 0
})

/*
az.style_layout('hold_elements_cells', 1, {
    "colspan" : 2
})

az.style_layout('hold_elements_cells', 4, {
    "colspan" : 2
})
*/

az.all_style_layout('hold_elements_cells', {
    "halign" : "center"
})

az.add_image('hold_elements_cells', 1, {
    "this_class" : "logo",
    "image_path" : "https://pbs.twimg.com/profile_images/958432197987401728/QLeEVLC__400x400.jpg"
})

az.style_image('logo', 1, {
   "align" : "center",
   "width" : "100px"
})

az.add_text('hold_elements_cells', 2, {
    "this_class" : "choose_title",
    "text" : "CHOOSE DOMAIN"
})

/*
az.add_text('hold_elements_cells', 3, {
    "this_class" : "choose_title",
    "text" : "DOMAIN 2"
})
*/

az.all_style_text('choose_title', {
    "color" : "white",
    "font-size" : "22px",
    "margin-top" : "10px",
    "margin-bottom" : "10px"
})

json_files = ['physics.json','mathematics.json','computer_science.json','quantitative_biology.json','quantitative_finance.json','statistics.json']
az.call_multiple({
	"iterations": json_files.length,
	"function": function(elem, index) {
		az.read_local_file({
			"file_path": '../data/' + json_files[index],
			"done": function(data) {
                add_dropdowns('hold_elements_cells', 2, {
                    "classname" : "domain1_dropdown",
                    "data" : data,
                    "index" : index
                })
                /*
                add_dropdowns('hold_elements_cells', 3, {
                    "classname" : "domain2_dropdown",
                    "data" : data,
                    "index" : index
                })
                */
                if(index == 5) {
                    add_drop_events('domain1_dropdown')
                    //add_drop_events('domain2_dropdown')
                }
			}
		})
	}
})



az.add_input('hold_elements_cells',3, {
    "this_class" : "search_term",
    "placeholder" : "search term..."
})

az.style_input('search_term', 1, {
    "margin-top" : "20px",
    "margin-bottom" : "10px",
    "width" : "300px"
})

az.add_button('hold_elements_cells', 4, {
    "this_class" : "run_scrape_and_model",
    "text" : "FIND ANALOGIES"
})

az.style_button('run_scrape_and_model', 1, {
    "background" : "white",
    "border" : "1px solid black",
    "display" : "block",
    "color" : "black",
    "margin-top" : "10px",
    "margin-bottom" : "10px",
    "width" : "auto",
    "outline" : 0
})

az.add_event('run_scrape_and_model', 1, {
    "type" : "click",
    "function" : function() {
        if(typeof(az.hold_value.chosen1_text) !== 'undefined' && az.grab_value('search_term', 1) !== '') {
        parse_arxiv_pdf()
        } else {
            alert('Choose a domain and search term.')
        }
        }
})

az.add_html('hold_elements_cells', 5, {
   "html" : "<div class='hold_searching_text'></div>"
})

az.add_iframe('hold_elements_cells', 5, {
    "this_class" : "top_article_frame",
    "source" : "https://blank.org/"
})

az.style_iframe('top_article_frame', 1, {
    "width" : "100%"
})

az.add_iframe('hold_elements_cells', 6, {
    "this_class" : "top_article_force_diagram",
    "source" : "visuals/force_visual/"
})

az.style_iframe('top_article_force_diagram', 1, {
    "width" : "100%",
    "height" : "700px"
})

}

})





})

</script>